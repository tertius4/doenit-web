import{az as Q,L as Y,am as P,aA as X,m as Z,aB as M,a2 as V,ae as l,h as u,ak as ee,S as w,b as q,a as j,af as F,H as te,ah as d,aC as m,aq as T,ac as k,a1 as O,a0 as y,aD as x,aE as se,e as L,f as U,aF as W,aG as ie,au as g,c as R,C as ae,s as re,aH as B,aI as ne,E as $,aJ as he,aK as fe,aL as oe,aM as A,ad as z,aN as ce,av as de,aO as D,d as b,aP as le,ax as ue,an as _e,aQ as pe,aR as ve,a8 as ge,aS as G,ag as me,aT as ye,aa as be,aj as H,ap as Ee,ai as we,aU as Te,aV as ke}from"./BoVrtkMf.js";import{a as Re,r as I,h as E,i as Ae}from"./kh4C5VZo.js";function De(n){let e=0,t=P(0),s;return()=>{Q()&&(Y(t),X(()=>(e===0&&(s=Z(()=>n(()=>M(t)))),e+=1,()=>{V(()=>{e-=1,e===0&&(s?.(),s=void 0,M(t))})})))}}var Ne=$|he|fe;function Fe(n,e,t){new Se(n,e,t)}class Se{parent;#e=!1;#t;#s=u?l:null;#a;#h;#r;#n=null;#i=null;#f=null;#o=null;#c=null;#u=0;#d=0;#_=!1;#l=null;#y=()=>{this.#l&&ee(this.#l,this.#u)};#b=De(()=>(this.#l=P(this.#u),()=>{this.#l=null}));constructor(e,t,s){this.#t=e,this.#a=t,this.#h=s,this.parent=w.b,this.#e=!!this.#a.pending,this.#r=q(()=>{if(w.b=this,u){const i=this.#s;j(),i.nodeType===F&&i.data===te?this.#w():this.#E()}else{var a=this.#g();try{this.#n=d(()=>s(a))}catch(i){this.error(i)}this.#d>0?this.#v():this.#e=!1}return()=>{this.#c?.remove()}},Ne),u&&(this.#t=l)}#E(){try{this.#n=d(()=>this.#h(this.#t))}catch(e){this.error(e)}this.#e=!1}#w(){const e=this.#a.pending;e&&(this.#i=d(()=>e(this.#t)),m.enqueue(()=>{var t=this.#g();this.#n=this.#p(()=>(m.ensure(),d(()=>this.#h(t)))),this.#d>0?this.#v():(T(this.#i,()=>{this.#i=null}),this.#e=!1)}))}#g(){var e=this.#t;return this.#e&&(this.#c=k(),this.#t.before(this.#c),e=this.#c),e}is_pending(){return this.#e||!!this.parent&&this.parent.is_pending()}has_pending_snippet(){return!!this.#a.pending}#p(e){var t=w,s=L,a=U;O(this.#r),y(this.#r),x(this.#r.ctx);try{return e()}catch(i){return se(i),null}finally{O(t),y(s),x(a)}}#v(){const e=this.#a.pending;this.#n!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#c),W(this.#n,this.#o)),this.#i===null&&(this.#i=d(()=>e(this.#t)))}#m(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#m(e);return}this.#d+=e,this.#d===0&&(this.#e=!1,this.#i&&T(this.#i,()=>{this.#i=null}),this.#o&&(this.#t.before(this.#o),this.#o=null))}update_pending_count(e){this.#m(e),this.#u+=e,ie.add(this.#y)}get_effect_pending(){return this.#b(),Y(this.#l)}error(e){var t=this.#a.onerror;let s=this.#a.failed;if(this.#_||!t&&!s)throw e;this.#n&&(g(this.#n),this.#n=null),this.#i&&(g(this.#i),this.#i=null),this.#f&&(g(this.#f),this.#f=null),u&&(R(this.#s),ae(),R(re()));var a=!1,i=!1;const r=()=>{if(a){oe();return}a=!0,i&&ne(),m.ensure(),this.#u=0,this.#f!==null&&T(this.#f,()=>{this.#f=null}),this.#e=this.has_pending_snippet(),this.#n=this.#p(()=>(this.#_=!1,d(()=>this.#h(this.#t)))),this.#d>0?this.#v():this.#e=!1};var h=L;try{y(null),i=!0,t?.(e,r),i=!1}catch(f){B(f,this.#r&&this.#r.parent)}finally{y(h)}s&&V(()=>{this.#f=this.#p(()=>{m.ensure(),this.#_=!0;try{return d(()=>{s(this.#t,()=>e,()=>r)})}catch(f){return B(f,this.#r.parent),null}finally{this.#_=!1}})})}}function Le(n,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(n.__t??=n.nodeValue)&&(n.__t=t,n.nodeValue=t+"")}function Ce(n,e){return J(n,e)}function Be(n,e){A(),e.intro=e.intro??!1;const t=e.target,s=u,a=l;try{for(var i=z(t);i&&(i.nodeType!==F||i.data!==ce);)i=de(i);if(!i)throw D;b(!0),R(i);const r=J(n,{...e,anchor:i});return b(!1),r}catch(r){if(r instanceof Error&&r.message.split(`
`).some(h=>h.startsWith("https://svelte.dev/e/")))throw r;return r!==D&&console.warn("Failed to hydrate: ",r),e.recover===!1&&le(),A(),ue(t),b(!1),Ce(n,e)}finally{b(s),R(a),ve()}}const v=new Map;function J(n,{target:e,anchor:t,props:s={},events:a,context:i,intro:r=!0}){A();var h=new Set,f=p=>{for(var c=0;c<p.length;c++){var o=p[c];if(!h.has(o)){h.add(o);var S=Ae(o);e.addEventListener(o,E,{passive:S});var C=v.get(o);C===void 0?(document.addEventListener(o,E,{passive:S}),v.set(o,1)):v.set(o,C+1)}}};f(_e(Re)),I.add(f);var _=void 0,K=pe(()=>{var p=t??e.appendChild(k());return Fe(p,{pending:()=>{}},c=>{if(i){ge({});var o=U;o.c=i}if(a&&(s.$$events=a),u&&G(c,null),_=n(c,s)||{},u&&(w.nodes_end=l,l===null||l.nodeType!==F||l.data!==me))throw ye(),D;i&&be()}),()=>{for(var c of h){e.removeEventListener(c,E);var o=v.get(c);--o===0?(document.removeEventListener(c,E),v.delete(c)):v.set(c,o)}I.delete(f),p!==t&&p.parentNode?.removeChild(p)}});return N.set(_,K),_}let N=new WeakMap;function He(n,e){const t=N.get(n);return t?(N.delete(n),t(e)):Promise.resolve()}class Me{anchor;#e=new Map;#t=new Map;#s=new Map;#a=!0;constructor(e,t=!0){this.anchor=e,this.#a=t}#h=()=>{var e=H;if(this.#e.has(e)){var t=this.#e.get(e),s=this.#t.get(t);if(s)Ee(s);else{var a=this.#s.get(t);a&&(this.#t.set(t,a.effect),this.#s.delete(t),a.fragment.lastChild.remove(),this.anchor.before(a.fragment),s=a.effect)}for(const[i,r]of this.#e){if(this.#e.delete(i),i===e)break;const h=this.#s.get(r);h&&(g(h.effect),this.#s.delete(r))}for(const[i,r]of this.#t){if(i===t)continue;const h=()=>{if(Array.from(this.#e.values()).includes(i)){var _=document.createDocumentFragment();W(r,_),_.append(k()),this.#s.set(i,{effect:r,fragment:_})}else g(r);this.#t.delete(i)};this.#a||!s?T(r,h,!1):h()}}};#r=e=>{this.#e.delete(e);const t=Array.from(this.#e.values());for(const[s,a]of this.#s)t.includes(s)||(g(a.effect),this.#s.delete(s))};ensure(e,t){var s=H,a=we();if(t&&!this.#t.has(e)&&!this.#s.has(e))if(a){var i=document.createDocumentFragment(),r=k();i.append(r),this.#s.set(e,{effect:d(()=>t(r)),fragment:i})}else this.#t.set(e,d(()=>t(this.anchor)));if(this.#e.set(s,e),a){for(const[h,f]of this.#t)h===e?s.skipped_effects.delete(f):s.skipped_effects.add(f);for(const[h,f]of this.#s)h===e?s.skipped_effects.delete(f.effect):s.skipped_effects.add(f.effect);s.oncommit(this.#h),s.ondiscard(this.#r)}else u&&(this.anchor=l),this.#h()}}function Ie(n,e,...t){var s=new Me(n);q(()=>{const a=e()??null;s.ensure(a,a&&(i=>a(i,...t)))},$)}function Ye(n){return(e,...t)=>{var s=n(...t),a;if(u)a=l,j();else{var i=s.render().trim(),r=Te(i);a=z(r),e.before(a)}const h=s.setup?.(a);G(a,a),typeof h=="function"&&ke(h)}}export{Me as B,Ie as a,Ye as c,Be as h,Ce as m,Le as s,He as u};
